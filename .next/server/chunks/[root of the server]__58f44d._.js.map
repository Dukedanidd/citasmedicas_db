{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///home/senorbuen0/ISC/sem6/bd/proyecto/citasmedicas_db/database/connection.js"],"sourcesContent":["import mysql from 'mysql2';\n\nconsole.log('[CONNECTION] Inicializando conexión a la base de datos...');\n\n// Configuración de la conexión\nconst connection = mysql.createConnection({\n    host: 'localhost',      // Host de la base de datos\n    port: 3306,\n    user: 'clinica-admin',          // Usuario de MySQL\n    password: 'admin',          // Contraseña de MySQL\n    database: 'clinica_db' // Nombre de la base de datos\n});\n\nconsole.log('[CONNECTION] Configuración de conexión creada');\n\n// Probar la conexión\nconnection.connect((err) => {\n    if (err) {\n        console.error('[CONNECTION] Error al conectar a la base de datos:', err);\n        console.error('[CONNECTION] Stack trace:', err.stack);\n        return;\n    }\n    console.log('[CONNECTION] Conexión exitosa a la base de datos MySQL');\n});\n\n// Manejar errores de conexión\nconnection.on('error', (err) => {\n    console.error('[CONNECTION] Error en la conexión:', err);\n    console.error('[CONNECTION] Stack trace:', err.stack);\n});\n\nconsole.log('[CONNECTION] Exportando conexión...');\n\n// Exportar la conexión para usarla en otros archivos\nexport default connection; "],"names":[],"mappings":";;;AAAA;;AAEA,QAAQ,GAAG,CAAC;AAEZ,+BAA+B;AAC/B,MAAM,aAAa,iIAAA,CAAA,UAAK,CAAC,gBAAgB,CAAC;IACtC,MAAM;IACN,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU,aAAa,6BAA6B;AACxD;AAEA,QAAQ,GAAG,CAAC;AAEZ,qBAAqB;AACrB,WAAW,OAAO,CAAC,CAAC;IAChB,IAAI,KAAK;QACL,QAAQ,KAAK,CAAC,sDAAsD;QACpE,QAAQ,KAAK,CAAC,6BAA6B,IAAI,KAAK;QACpD;IACJ;IACA,QAAQ,GAAG,CAAC;AAChB;AAEA,8BAA8B;AAC9B,WAAW,EAAE,CAAC,SAAS,CAAC;IACpB,QAAQ,KAAK,CAAC,sCAAsC;IACpD,QAAQ,KAAK,CAAC,6BAA6B,IAAI,KAAK;AACxD;AAEA,QAAQ,GAAG,CAAC;uCAGG"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/senorbuen0/ISC/sem6/bd/proyecto/citasmedicas_db/app/api/agenda/%5BdoctorId%5D/%5Bfecha%5D/route.js"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport connection from '../../../../../database/connection'\n\nexport const GET = async (request, context) => {\n  try {\n    const { doctorId, fecha } = context.params\n\n    // Validar parámetros\n    if (!doctorId || !fecha) {\n      return NextResponse.json(\n        { error: 'Se requieren doctorId y fecha' },\n        { status: 400 }\n      )\n    }\n\n    // Consultar la agenda del doctor para la fecha específica\n    const query = `\n      SELECT agenda_id, doctor_id, fecha, hora_inicio, hora_fin, disponible\n      FROM agenda\n      WHERE doctor_id = ? AND fecha = ?\n    `\n\n    const [rows] = await connection.promise().query(query, [doctorId, fecha])\n\n    if (rows.length === 0) {\n      return NextResponse.json(\n        { error: 'No se encontró agenda para esta fecha' },\n        { status: 404 }\n      )\n    }\n\n    return NextResponse.json(rows[0])\n  } catch (error) {\n    console.error('Error al obtener agenda:', error)\n    return NextResponse.json(\n      { error: 'Error al obtener la agenda' },\n      { status: 500 }\n    )\n  }\n} "],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,MAAM,OAAO,SAAS;IACjC,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,QAAQ,MAAM;QAE1C,qBAAqB;QACrB,IAAI,CAAC,YAAY,CAAC,OAAO;YACvB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,0DAA0D;QAC1D,MAAM,QAAQ,CAAC;;;;IAIf,CAAC;QAED,MAAM,CAAC,KAAK,GAAG,MAAM,wHAAA,CAAA,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO;YAAC;YAAU;SAAM;QAExE,IAAI,KAAK,MAAM,KAAK,GAAG;YACrB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAwC,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;IAClC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6B,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}