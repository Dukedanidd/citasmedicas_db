{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/components/ui/Modal.jsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useRef } from \"react\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { X } from \"lucide-react\"\r\n\r\nexport default function Modal({ isOpen, onClose, title, children }) {\r\n  const modalRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        onClose()\r\n      }\r\n    }\r\n\r\n    const handleClickOutside = (e) => {\r\n      if (modalRef.current && !modalRef.current.contains(e.target)) {\r\n        onClose()\r\n      }\r\n    }\r\n\r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", handleEscape)\r\n      document.addEventListener(\"mousedown\", handleClickOutside)\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape)\r\n      document.removeEventListener(\"mousedown\", handleClickOutside)\r\n    }\r\n  }, [isOpen, onClose])\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 bg-black bg-opacity-50\"\r\n            />\r\n      <motion.div\r\n              ref={modalRef}\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"relative w-full max-w-[95vw] max-h-[90vh] overflow-y-auto bg-white rounded-xl shadow-xl\"\r\n      >\r\n              <div className=\"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-gray-200 bg-white rounded-t-xl\">\r\n                <h2 className=\"text-xl font-semibold text-slate-800\">{title}</h2>\r\n          <button\r\n            onClick={onClose}\r\n                  className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\"\r\n          >\r\n                  <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n              <div className=\"p-6\">{children}</div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;AAHA;;;;;AAKe,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE;IAChE,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAExB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,EAAE,GAAG,KAAK,UAAU;gBACtB;YACF;QACF;QAEA,MAAM,qBAAqB,CAAC;YAC1B,IAAI,SAAS,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG;gBAC5D;YACF;QACF;QAEA,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,gBAAgB,CAAC,aAAa;QACzC;QAEA,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,qBACE,8OAAC,yLAAA,CAAA,kBAAe;kBACb,wBACC,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,MAAM;4BAAE,SAAS;wBAAE;wBACnB,WAAU;;;;;;kCAElB,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;wBACH,KAAK;wBACL,SAAS;4BAAE,OAAO;4BAAM,SAAS;wBAAE;wBACnC,SAAS;4BAAE,OAAO;4BAAG,SAAS;wBAAE;wBAChC,MAAM;4BAAE,OAAO;4BAAM,SAAS;wBAAE;wBAChC,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAwC;;;;;;kDAC5D,8OAAC;wCACC,SAAS;wCACH,WAAU;kDAEV,cAAA,8OAAC,4LAAA,CAAA,IAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGjB,8OAAC;gCAAI,WAAU;0CAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/components/ui/DoctorForm.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Eye, EyeOff } from \"lucide-react\"\r\n\r\nexport default function DoctorForm({ onClose, onSubmit, initialData }) {\r\n  const [formData, setFormData] = useState({\r\n    primer_nombre: \"\",\r\n    segundo_nombre: \"\",\r\n    apellido_paterno: \"\",\r\n    apellido_materno: \"\",\r\n    email: \"\",\r\n    especialidad: \"\",\r\n    password: \"\",\r\n    consultorio_id: null\r\n  })\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [consultorios, setConsultorios] = useState([])\r\n\r\n  // Cargar consultorios\r\n  useEffect(() => {\r\n    const fetchConsultorios = async () => {\r\n      try {\r\n        const response = await fetch('/api/consultorios')\r\n        if (!response.ok) throw new Error('Error al cargar consultorios')\r\n        const data = await response.json()\r\n        setConsultorios(data)\r\n      } catch (error) {\r\n        console.error('Error:', error)\r\n      }\r\n    }\r\n    fetchConsultorios()\r\n  }, [])\r\n\r\n  // Cargar datos iniciales si estamos editando\r\n  useEffect(() => {\r\n    const fetchDoctorData = async () => {\r\n      if (initialData?.doctor_id) {\r\n        try {\r\n          const response = await fetch(`/api/doctores/${initialData.doctor_id}`)\r\n          if (!response.ok) throw new Error('Error al cargar datos del doctor')\r\n          const data = await response.json()\r\n          console.log('Datos completos del doctor:', data)\r\n          setFormData({\r\n            doctor_id: data.doctor_id,\r\n            primer_nombre: data.primer_nombre || \"\",\r\n            segundo_nombre: data.segundo_nombre || \"\",\r\n            apellido_paterno: data.apellido_paterno || \"\",\r\n            apellido_materno: data.apellido_materno || \"\",\r\n            email: data.email || \"\",\r\n            especialidad: data.especialidad || \"\",\r\n            password: \"\", // No mostramos la contraseña al editar\r\n            consultorio_id: data.consultorio_id || null\r\n          })\r\n        } catch (error) {\r\n          console.error('Error al cargar datos del doctor:', error)\r\n        }\r\n      }\r\n    }\r\n    fetchDoctorData()\r\n  }, [initialData])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    // Asegurarnos de que consultorio_id sea null si está vacío\r\n    const submitData = {\r\n      ...formData,\r\n      consultorio_id: formData.consultorio_id === \"\" ? null : formData.consultorio_id\r\n    }\r\n    onSubmit(submitData)\r\n    \r\n    // Limpiar el formulario después de enviar\r\n    if (!initialData) {\r\n      setFormData({\r\n        primer_nombre: \"\",\r\n        segundo_nombre: \"\",\r\n        apellido_paterno: \"\",\r\n        apellido_materno: \"\",\r\n        email: \"\",\r\n        especialidad: \"\",\r\n        password: \"\",\r\n        consultorio_id: null\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n      <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Primer Nombre <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n            name=\"primer_nombre\"\r\n            value={formData.primer_nombre}\r\n          onChange={handleChange}\r\n          required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        />\r\n      </div>\r\n      <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Segundo Nombre\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"segundo_nombre\"\r\n            value={formData.segundo_nombre || ''}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n        </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Apellido Paterno <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n            name=\"apellido_paterno\"\r\n            value={formData.apellido_paterno}\r\n          onChange={handleChange}\r\n          required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Apellido Materno\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"apellido_materno\"\r\n            value={formData.apellido_materno || ''}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Email <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        />\r\n      </div>\r\n\r\n        <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Contraseña {!initialData && <span className=\"text-red-500\">*</span>}\r\n          </label>\r\n        <div className=\"relative\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required={!initialData}\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 pr-10\"\r\n            placeholder={initialData ? \"Dejar en blanco para mantener la actual\" : \"Ingrese la contraseña\"}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors\"\r\n          >\r\n            {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n          </button>\r\n        </div>\r\n        <p className=\"text-xs text-slate-500 mt-1\">\r\n          {initialData ? \"Dejar en blanco para mantener la contraseña actual\" : \"La contraseña es requerida para crear un nuevo doctor\"}\r\n        </p>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Especialidad <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"especialidad\"\r\n          value={formData.especialidad}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        >\r\n          <option value=\"\">Seleccionar especialidad...</option>\r\n          <option value=\"Cardiología\">Cardiología</option>\r\n          <option value=\"Dermatología\">Dermatología</option>\r\n          <option value=\"Endocrinología\">Endocrinología</option>\r\n          <option value=\"Gastroenterología\">Gastroenterología</option>\r\n          <option value=\"Ginecología\">Ginecología</option>\r\n          <option value=\"Neurología\">Neurología</option>\r\n          <option value=\"Oftalmología\">Oftalmología</option>\r\n          <option value=\"Ortopedia\">Ortopedia</option>\r\n          <option value=\"Otorrinolaringología\">Otorrinolaringología</option>\r\n          <option value=\"Pediatría\">Pediatría</option>\r\n          <option value=\"Psiquiatría\">Psiquiatría</option>\r\n          <option value=\"Urología\">Urología</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Consultorio\r\n        </label>\r\n          <select\r\n            name=\"consultorio_id\"\r\n          value={formData.consultorio_id || \"\"}\r\n            onChange={handleChange}\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          >\r\n          <option value=\"\">Sin consultorio asignado</option>\r\n            {consultorios.map(consultorio => (\r\n              <option key={consultorio.consultorio_id} value={consultorio.consultorio_id}>\r\n                {consultorio.nombre}\r\n              </option>\r\n            ))}\r\n          </select>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800\"\r\n        >\r\n          Cancelar\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-4 py-2 text-sm font-medium text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400\"\r\n        >\r\n          {initialData ? 'Actualizar' : 'Crear'} Doctor\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 750, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/components/ui/PatientForm.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nexport default function PatientForm({ onClose, onSubmit, initialData, doctores = [] }) {\r\n  const [formData, setFormData] = useState({\r\n    primer_nombre: \"\",\r\n    segundo_nombre: \"\",\r\n    apellido_paterno: \"\",\r\n    apellido_materno: \"\",\r\n    email: \"\",\r\n    fecha_nacimiento: \"\",\r\n    sexo: \"\",\r\n    doctor_id: \"\",\r\n    password: \"\"\r\n  })\r\n\r\n  // Cargar datos iniciales si estamos editando\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        primer_nombre: initialData.primer_nombre || \"\",\r\n        segundo_nombre: initialData.segundo_nombre || \"\",\r\n        apellido_paterno: initialData.apellido_paterno || \"\",\r\n        apellido_materno: initialData.apellido_materno || \"\",\r\n        email: initialData.email || \"\",\r\n        fecha_nacimiento: initialData.fecha_nacimiento ? new Date(initialData.fecha_nacimiento).toISOString().split('T')[0] : \"\",\r\n        sexo: initialData.sexo || \"\",\r\n        doctor_id: initialData.doctor_id || \"\",\r\n        password: \"\" // No mostramos la contraseña al editar\r\n      })\r\n    }\r\n  }, [initialData])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onSubmit(formData)\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Primer Nombre <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"primer_nombre\"\r\n            value={formData.primer_nombre}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Segundo Nombre\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"segundo_nombre\"\r\n            value={formData.segundo_nombre || ''}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n        </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n      <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Apellido Paterno <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n            name=\"apellido_paterno\"\r\n            value={formData.apellido_paterno}\r\n          onChange={handleChange}\r\n          required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        />\r\n      </div>\r\n      <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Apellido Materno\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"apellido_materno\"\r\n            value={formData.apellido_materno || ''}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Email <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Contraseña {!initialData && <span className=\"text-red-500\">*</span>}\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required={!initialData}\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          placeholder={initialData ? \"Dejar en blanco para mantener la actual\" : \"Ingrese la contraseña\"}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Fecha de Nacimiento <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"fecha_nacimiento\"\r\n            value={formData.fecha_nacimiento}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n            Sexo <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <select\r\n            name=\"sexo\"\r\n            value={formData.sexo}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          >\r\n            <option value=\"\">Seleccionar...</option>\r\n            <option value=\"M\">Masculino</option>\r\n            <option value=\"F\">Femenino</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Doctor Asignado <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"doctor_id\"\r\n          value={formData.doctor_id || ''}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n        >\r\n          <option value=\"\">Seleccionar doctor...</option>\r\n          {doctores.map((doctor) => (\r\n            <option key={doctor.doctor_id} value={doctor.doctor_id}>\r\n              Dr. {doctor.primer_nombre} {doctor.apellido_paterno}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800\"\r\n        >\r\n          Cancelar\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-4 py-2 text-sm font-medium text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400\"\r\n        >\r\n          {initialData ? 'Actualizar' : 'Crear'} Paciente\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1249, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/components/ui/CitaForm.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nexport default function CitaForm({ onClose, onSubmit, initialData, doctores, pacientes }) {\r\n  const [formData, setFormData] = useState({\r\n    paciente_id: '',\r\n    doctor_id: '',\r\n    fecha_hora: '',\r\n    estado_id: 1,\r\n    notas: ''\r\n  })\r\n\r\n  const isCancelled = initialData?.estado_id === 3\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        ...initialData,\r\n        fecha_hora: new Date(initialData.fecha_hora).toISOString().slice(0, 16)\r\n      })\r\n    }\r\n  }, [initialData])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onSubmit(formData)\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      {isCancelled && (\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4\">\r\n          Esta cita está cancelada y no puede ser editada.\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Paciente <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          id=\"paciente_id\"\r\n          name=\"paciente_id\"\r\n          value={formData.paciente_id}\r\n          onChange={handleChange}\r\n          required\r\n          disabled={isCancelled}\r\n          className={`w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 ${\r\n            isCancelled ? 'bg-slate-100 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          <option value=\"\">Seleccionar paciente...</option>\r\n          {pacientes.map(paciente => (\r\n            <option key={paciente.paciente_id} value={paciente.paciente_id}>\r\n              {`${paciente.primer_nombre} ${paciente.apellido_paterno}`}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Doctor <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          id=\"doctor_id\"\r\n          name=\"doctor_id\"\r\n          value={formData.doctor_id}\r\n          onChange={handleChange}\r\n          required\r\n          disabled={isCancelled}\r\n          className={`w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 ${\r\n            isCancelled ? 'bg-slate-100 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          <option value=\"\">Seleccionar doctor...</option>\r\n          {doctores.map(doctor => (\r\n            <option key={doctor.doctor_id} value={doctor.doctor_id}>\r\n              {`Dr. ${doctor.primer_nombre} ${doctor.apellido_paterno}`}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Fecha y Hora <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"datetime-local\"\r\n          id=\"fecha_hora\"\r\n          name=\"fecha_hora\"\r\n          value={formData.fecha_hora}\r\n          onChange={handleChange}\r\n          required\r\n          disabled={isCancelled}\r\n          className={`w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 ${\r\n            isCancelled ? 'bg-slate-100 cursor-not-allowed' : ''\r\n          }`}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Estado <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          id=\"estado_id\"\r\n          name=\"estado_id\"\r\n          value={formData.estado_id}\r\n          onChange={handleChange}\r\n          required\r\n          disabled={isCancelled}\r\n          className={`w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 ${\r\n            isCancelled ? 'bg-slate-100 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          <option value=\"1\">Programada</option>\r\n          <option value=\"2\">Confirmada</option>\r\n          <option value=\"3\">Cancelada</option>\r\n          <option value=\"4\">Completada</option>\r\n          <option value=\"5\">No asistió</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n          Notas\r\n        </label>\r\n        <textarea\r\n          id=\"notas\"\r\n          name=\"notas\"\r\n          value={formData.notas}\r\n          onChange={handleChange}\r\n          rows=\"3\"\r\n          disabled={isCancelled}\r\n          className={`w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800 ${\r\n            isCancelled ? 'bg-slate-100 cursor-not-allowed' : ''\r\n          }`}\r\n          placeholder=\"Ingrese notas adicionales sobre la cita...\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800\"\r\n        >\r\n          {isCancelled ? 'Cerrar' : 'Cancelar'}\r\n        </button>\r\n        {!isCancelled && (\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 text-sm font-medium text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400\"\r\n          >\r\n            {initialData ? 'Actualizar' : 'Crear'} Cita\r\n          </button>\r\n        )}\r\n      </div>\r\n    </form>\r\n  )\r\n} "],"names":[],"mappings":";;;;AACA;AADA;;;;AAIe,SAAS,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE;IACtF,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,aAAa;QACb,WAAW;QACX,YAAY;QACZ,WAAW;QACX,OAAO;IACT;IAEA,MAAM,cAAc,aAAa,cAAc;IAE/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,aAAa;YACf,YAAY;gBACV,GAAG,WAAW;gBACd,YAAY,IAAI,KAAK,YAAY,UAAU,EAAE,WAAW,GAAG,KAAK,CAAC,GAAG;YACtE;QACF;IACF,GAAG;QAAC;KAAY;IAEhB,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;YACrC,6BACC,8OAAC;gBAAI,WAAU;0BAAyE;;;;;;0BAK1F,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;;4BAAgD;0CACtD,8OAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAE1C,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,SAAS,WAAW;wBAC3B,UAAU;wBACV,QAAQ;wBACR,UAAU;wBACV,WAAW,CAAC,sHAAsH,EAChI,cAAc,oCAAoC,IAClD;;0CAEF,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,UAAU,GAAG,CAAC,CAAA,yBACb,8OAAC;oCAAkC,OAAO,SAAS,WAAW;8CAC3D,GAAG,SAAS,aAAa,CAAC,CAAC,EAAE,SAAS,gBAAgB,EAAE;mCAD9C,SAAS,WAAW;;;;;;;;;;;;;;;;;0BAOvC,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;;4BAAgD;0CACxD,8OAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAExC,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,SAAS,SAAS;wBACzB,UAAU;wBACV,QAAQ;wBACR,UAAU;wBACV,WAAW,CAAC,sHAAsH,EAChI,cAAc,oCAAoC,IAClD;;0CAEF,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAA,uBACZ,8OAAC;oCAA8B,OAAO,OAAO,SAAS;8CACnD,CAAC,IAAI,EAAE,OAAO,aAAa,CAAC,CAAC,EAAE,OAAO,gBAAgB,EAAE;mCAD9C,OAAO,SAAS;;;;;;;;;;;;;;;;;0BAOnC,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;;4BAAgD;0CAClD,8OAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAE9C,8OAAC;wBACC,MAAK;wBACL,IAAG;wBACH,MAAK;wBACL,OAAO,SAAS,UAAU;wBAC1B,UAAU;wBACV,QAAQ;wBACR,UAAU;wBACV,WAAW,CAAC,sHAAsH,EAChI,cAAc,oCAAoC,IAClD;;;;;;;;;;;;0BAIN,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;;4BAAgD;0CACxD,8OAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAExC,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,SAAS,SAAS;wBACzB,UAAU;wBACV,QAAQ;wBACR,UAAU;wBACV,WAAW,CAAC,sHAAsH,EAChI,cAAc,oCAAoC,IAClD;;0CAEF,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAI;;;;;;;;;;;;;;;;;;0BAItB,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAAgD;;;;;;kCAGjE,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,SAAS,KAAK;wBACrB,UAAU;wBACV,MAAK;wBACL,UAAU;wBACV,WAAW,CAAC,sHAAsH,EAChI,cAAc,oCAAoC,IAClD;wBACF,aAAY;;;;;;;;;;;;0BAIhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCAET,cAAc,WAAW;;;;;;oBAE3B,CAAC,6BACA,8OAAC;wBACC,MAAK;wBACL,WAAU;;4BAET,cAAc,eAAe;4BAAQ;;;;;;;;;;;;;;;;;;;AAMlD"}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1609, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/components/ui/BitacoraForm.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Search } from \"lucide-react\"\r\n\r\nexport default function BitacoraForm({ onClose }) {\r\n  const [bitacora, setBitacora] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [totalPages, setTotalPages] = useState(1)\r\n  const itemsPerPage = 10\r\n\r\n  useEffect(() => {\r\n    const fetchBitacora = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        const response = await fetch('/api/bitacora')\r\n        if (!response.ok) {\r\n          throw new Error('Error al cargar la bitácora')\r\n        }\r\n        const data = await response.json()\r\n        setBitacora(data)\r\n        setTotalPages(Math.ceil(data.length / itemsPerPage))\r\n      } catch (error) {\r\n        console.error('Error:', error)\r\n        setError(error.message)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchBitacora()\r\n  }, [])\r\n\r\n  const filteredBitacora = bitacora.filter(entry => {\r\n    const searchLower = searchTerm.toLowerCase()\r\n    return (\r\n      entry.tabla_afectada?.toLowerCase().includes(searchLower) ||\r\n      entry.tipo?.toLowerCase().includes(searchLower) ||\r\n      entry.detalle?.toLowerCase().includes(searchLower) ||\r\n      entry.email?.toLowerCase().includes(searchLower)\r\n    )\r\n  })\r\n\r\n  const getCurrentPageData = () => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage\r\n    const endIndex = startIndex + itemsPerPage\r\n    return filteredBitacora.slice(startIndex, endIndex)\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full max-w-[90vw] mx-auto space-y-4\">\r\n      <div className=\"flex space-x-4 mb-6\">\r\n        <div className=\"flex-1 relative\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar en bitácora...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto bg-white rounded-lg shadow\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Fecha y Hora\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Usuario\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Tabla\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Operación\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Detalles\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {isLoading ? (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                  Cargando bitácora...\r\n                </td>\r\n              </tr>\r\n            ) : error ? (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-red-500\">\r\n                  {error}\r\n                </td>\r\n              </tr>\r\n            ) : filteredBitacora.length === 0 ? (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                  No hay registros en la bitácora\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              getCurrentPageData().map((entry) => (\r\n                <tr key={entry.log_id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {new Date(entry.fecha_hora).toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {entry.email || 'N/A'}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {entry.tabla_afectada}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                      entry.tipo === 'ingreso' ? 'bg-emerald-50 text-emerald-700' :\r\n                      entry.tipo === 'actualizacion' ? 'bg-blue-50 text-blue-700' :\r\n                      entry.tipo === 'delete' ? 'bg-rose-50 text-rose-700' :\r\n                      'bg-slate-50 text-slate-700'\r\n                    }`}>\r\n                      {entry.tipo === 'ingreso' ? 'INSERT' :\r\n                       entry.tipo === 'actualizacion' ? 'UPDATE' :\r\n                       entry.tipo === 'delete' ? 'DELETE' :\r\n                       entry.tipo}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                    {entry.detalle || 'Sin detalles'}\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Pagination Controls */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6 rounded-lg shadow\">\r\n        <div className=\"flex justify-between flex-1 sm:hidden\">\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n            disabled={currentPage === 1}\r\n            className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n              currentPage === 1\r\n                ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            Anterior\r\n          </motion.button>\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n            disabled={currentPage === totalPages}\r\n            className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n              currentPage === totalPages\r\n                ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            Siguiente\r\n          </motion.button>\r\n        </div>\r\n        <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-700\">\r\n              Mostrando{' '}\r\n              <span className=\"font-medium\">\r\n                {filteredBitacora.length === 0 ? 0 : (currentPage - 1) * itemsPerPage + 1}\r\n              </span>{' '}\r\n              a{' '}\r\n              <span className=\"font-medium\">\r\n                {Math.min(currentPage * itemsPerPage, filteredBitacora.length)}\r\n              </span>{' '}\r\n              de{' '}\r\n              <span className=\"font-medium\">{filteredBitacora.length}</span>{' '}\r\n              resultados\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                disabled={currentPage === 1}\r\n                className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\r\n                  currentPage === 1\r\n                    ? 'text-gray-300 cursor-not-allowed'\r\n                    : 'text-gray-500 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                Anterior\r\n              </motion.button>\r\n              {(() => {\r\n                const pages = []\r\n                const showPages = 4\r\n                let startPage = Math.max(1, currentPage - Math.floor(showPages / 2))\r\n                let endPage = Math.min(totalPages, startPage + showPages - 1)\r\n\r\n                // Ajustar startPage si estamos cerca del final\r\n                if (endPage - startPage + 1 < showPages) {\r\n                  startPage = Math.max(1, endPage - showPages + 1)\r\n                }\r\n\r\n                for (let i = startPage; i <= endPage; i++) {\r\n                  pages.push(\r\n                    <motion.button\r\n                      key={i}\r\n                      whileHover={{ scale: 1.05 }}\r\n                      onClick={() => setCurrentPage(i)}\r\n                      className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\r\n                        currentPage === i\r\n                          ? 'z-10 bg-sky-50 border-sky-500 text-sky-600'\r\n                          : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      {i}\r\n                    </motion.button>\r\n                  )\r\n                }\r\n                return pages\r\n              })()}\r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                disabled={currentPage === totalPages}\r\n                className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\r\n                  currentPage === totalPages\r\n                    ? 'text-gray-300 cursor-not-allowed'\r\n                    : 'text-gray-500 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                Siguiente\r\n              </motion.button>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onClose}\r\n          className=\"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800\"\r\n        >\r\n          Cerrar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 2064, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2094, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/arman/ISC/citasmedicas_db/app/dashboard/admin/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport Modal from \"../../../components/ui/Modal\"\r\nimport DoctorForm from \"../../../components/ui/DoctorForm\"\r\nimport PatientForm from \"../../../components/ui/PatientForm\"\r\nimport CitaForm from \"../../../components/ui/CitaForm\"\r\nimport BitacoraForm from \"../../../components/ui/BitacoraForm\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport {\r\n  Users,\r\n  Calendar,\r\n  FileText,\r\n  Settings,\r\n  LogOut,\r\n  ChevronDown,\r\n  Bell,\r\n  Search,\r\n  Stethoscope,\r\n  UserPlus,\r\n  Trash2,\r\n  Edit,\r\n  Filter,\r\n  Clock,\r\n  History,\r\n} from \"lucide-react\"\r\n\r\nexport default function AdminDashboard() {\r\n  const router = useRouter()\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\r\n  const [activeTab, setActiveTab] = useState(\"doctors\") // doctors, patients, appointments\r\n  const [isDoctorModalOpen, setIsDoctorModalOpen] = useState(false)\r\n  const [selectedDoctor, setSelectedDoctor] = useState(null)\r\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false)\r\n  const [editingPatient, setEditingPatient] = useState(null)\r\n  \r\n  const [doctores, setDoctores] = useState([])\r\n  const [filteredDoctores, setFilteredDoctores] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n  const [doctorCurrentPage, setDoctorCurrentPage] = useState(1)\r\n  const [doctorTotalPages, setDoctorTotalPages] = useState(1)\r\n\r\n  const [pacientes, setPacientes] = useState([])\r\n  const [filteredPacientes, setFilteredPacientes] = useState([])\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [doctorSearchTerm, setDoctorSearchTerm] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [totalPages, setTotalPages] = useState(1)\r\n  const itemsPerPage = 5\r\n\r\n  const [citas, setCitas] = useState([])\r\n  const [filteredCitas, setFilteredCitas] = useState([])\r\n  const [citaSearchTerm, setCitaSearchTerm] = useState('')\r\n  const [citaCurrentPage, setCitaCurrentPage] = useState(1)\r\n  const [citaTotalPages, setCitaTotalPages] = useState(1)\r\n  const [isCitaModalOpen, setIsCitaModalOpen] = useState(false)\r\n  const [selectedCita, setSelectedCita] = useState(null)\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0])\r\n\r\n  const [stats, setStats] = useState({\r\n    totalDoctores: 0,\r\n    totalPacientes: 0,\r\n    citasHoy: 0,\r\n    citasProgramadas: 0\r\n  })\r\n\r\n  const [isBitacoraModalOpen, setIsBitacoraModalOpen] = useState(false)\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false)\r\n  const [confirmAction, setConfirmAction] = useState(null)\r\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false)\r\n  const [successMessage, setSuccessMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    // Aquí podrías verificar si el usuario está autenticado\r\n    const checkAuth = async () => {\r\n      try {\r\n        const userId = sessionStorage.getItem('user_id')\r\n        if (!userId) {\r\n          router.push('/login')\r\n          return\r\n        }\r\n\r\n        const res = await fetch('/api/auth/check', {\r\n          headers: {\r\n            'user-id': userId\r\n          }\r\n        })\r\n        const data = await res.json()\r\n        \r\n        if (!data.authenticated || data.user?.rol !== 'admin') {\r\n          router.push('/login')\r\n        }\r\n      } catch (error) {\r\n        console.error('Error verificando autenticación:', error)\r\n        router.push('/login')\r\n      }\r\n    }\r\n\r\n    checkAuth()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        const userId = sessionStorage.getItem('user_id')\r\n        if (!userId) {\r\n          throw new Error('No se encontró información de sesión')\r\n        }\r\n\r\n        // Fetch doctores\r\n        const doctoresRes = await fetch('/api/doctores')\r\n        if (!doctoresRes.ok) {\r\n          throw new Error('Error al cargar doctores')\r\n        }\r\n        const doctoresData = await doctoresRes.json()\r\n\r\n        // Fetch pacientes\r\n        const pacientesRes = await fetch('/api/pacientes')\r\n        if (!pacientesRes.ok) {\r\n          throw new Error('Error al cargar pacientes')\r\n        }\r\n        const pacientesData = await pacientesRes.json()\r\n\r\n        // Fetch citas\r\n        const citasRes = await fetch('/api/citas')\r\n        if (!citasRes.ok) {\r\n          throw new Error('Error al cargar citas')\r\n        }\r\n        const citasData = await citasRes.json()\r\n\r\n        // Mapear los doctores a un objeto para fácil acceso\r\n        const doctoresMap = doctoresData.reduce((acc, doctor) => {\r\n          acc[doctor.doctor_id] = doctor\r\n          return acc\r\n        }, {})\r\n\r\n        // Añadir la información del doctor a cada paciente\r\n        const pacientesConDoctores = pacientesData.map(paciente => ({\r\n          ...paciente,\r\n          doctor: paciente.doctor_id ? doctoresMap[paciente.doctor_id] : null\r\n        }))\r\n\r\n        // Añadir información del doctor y paciente a cada cita\r\n        const citasConInfo = citasData.map(cita => ({\r\n          ...cita,\r\n          doctor: doctoresMap[cita.doctor_id],\r\n          paciente: pacientesConDoctores.find(p => p.paciente_id === cita.paciente_id)\r\n        }))\r\n\r\n        // Calcular citas de hoy\r\n        const today = new Date()\r\n        today.setHours(0, 0, 0, 0)\r\n        const tomorrow = new Date(today)\r\n        tomorrow.setDate(tomorrow.getDate() + 1)\r\n        \r\n        const citasHoy = citasConInfo.filter(cita => {\r\n          const citaDate = new Date(cita.fecha_hora)\r\n          return citaDate >= today && citaDate < tomorrow\r\n        }).length\r\n\r\n        // Calcular citas programadas (estado_id = 1)\r\n        const citasProgramadas = citasConInfo.filter(cita => cita.estado_id === 1).length\r\n\r\n        setDoctores(doctoresData)\r\n        setFilteredDoctores(doctoresData)\r\n        setDoctorTotalPages(Math.ceil(doctoresData.length / itemsPerPage))\r\n\r\n        setPacientes(pacientesConDoctores)\r\n        setFilteredPacientes(pacientesConDoctores)\r\n        setTotalPages(Math.ceil(pacientesConDoctores.length / itemsPerPage))\r\n\r\n        setCitas(citasConInfo)\r\n        setFilteredCitas(citasConInfo)\r\n        setCitaTotalPages(Math.ceil(citasConInfo.length / itemsPerPage))\r\n\r\n        // Actualizar estadísticas\r\n        setStats({\r\n          totalDoctores: doctoresData.length,\r\n          totalPacientes: pacientesData.length,\r\n          citasHoy: citasHoy,\r\n          citasProgramadas: citasProgramadas\r\n        })\r\n\r\n      } catch (error) {\r\n        console.error('Error al cargar datos:', error)\r\n        setError(error.message)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const filtered = pacientes.filter(paciente => {\r\n      const fullName = `${paciente.primer_nombre} ${paciente.segundo_nombre || ''} ${paciente.apellido_paterno} ${paciente.apellido_materno || ''}`.toLowerCase()\r\n      const email = paciente.email.toLowerCase()\r\n      const searchLower = searchTerm.toLowerCase()\r\n      \r\n      return fullName.includes(searchLower) || email.includes(searchLower)\r\n    })\r\n    \r\n    setFilteredPacientes(filtered)\r\n    setTotalPages(Math.ceil(filtered.length / itemsPerPage))\r\n    setCurrentPage(1) // Reset to first page when searching\r\n  }, [searchTerm, pacientes])\r\n\r\n  const getCurrentPageData = () => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage\r\n    const endIndex = startIndex + itemsPerPage\r\n    return filteredPacientes.slice(startIndex, endIndex)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const filtered = doctores.filter(doctor => {\r\n      const fullName = `${doctor.primer_nombre} ${doctor.segundo_nombre || ''} ${doctor.apellido_paterno} ${doctor.apellido_materno || ''}`.toLowerCase()\r\n      const especialidad = doctor.especialidad?.toLowerCase() || ''\r\n      const searchLower = doctorSearchTerm.toLowerCase()\r\n      \r\n      return fullName.includes(searchLower) || especialidad.includes(searchLower)\r\n    })\r\n    \r\n    setFilteredDoctores(filtered)\r\n    setDoctorTotalPages(Math.ceil(filtered.length / itemsPerPage))\r\n    setDoctorCurrentPage(1) // Reset to first page when searching\r\n  }, [doctorSearchTerm, doctores])\r\n\r\n  const getCurrentPageDoctors = () => {\r\n    const startIndex = (doctorCurrentPage - 1) * itemsPerPage\r\n    const endIndex = startIndex + itemsPerPage\r\n    return filteredDoctores.slice(startIndex, endIndex)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    router.push(\"/\")\r\n  }\r\n\r\n  const handleConfirmDeleteDoctor = (doctorId) => {\r\n    setConfirmAction({ type: 'deleteDoctor', id: doctorId });\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleDeleteDoctor = async (doctorId) => {\r\n    try {\r\n      const response = await fetch(`/api/doctores/${doctorId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al eliminar el doctor');\r\n      }\r\n\r\n      // Actualizar el estado local eliminando el doctor\r\n      setDoctores(prev => prev.filter(d => d.doctor_id !== doctorId));\r\n      setFilteredDoctores(prev => prev.filter(d => d.doctor_id !== doctorId));\r\n      setDoctorTotalPages(prev => Math.ceil((prev * itemsPerPage - 1) / itemsPerPage));\r\n      \r\n      setShowConfirmModal(false);\r\n      setSuccessMessage('Doctor eliminado exitosamente');\r\n      setShowSuccessMessage(true);\r\n      setTimeout(() => setShowSuccessMessage(false), 3000);\r\n    } catch (error) {\r\n      console.error('Error al eliminar doctor:', error);\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  const handleConfirmDeletePatient = (pacienteId) => {\r\n    setConfirmAction({ type: 'deletePatient', id: pacienteId });\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleDeletePatient = async (pacienteId) => {\r\n    try {\r\n      const response = await fetch(`/api/pacientes?pacienteId=${pacienteId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al eliminar el paciente');\r\n      }\r\n\r\n      // Actualizar el estado local eliminando el paciente\r\n      setPacientes(prev => prev.filter(p => p.paciente_id !== pacienteId));\r\n      setFilteredPacientes(prev => prev.filter(p => p.paciente_id !== pacienteId));\r\n      \r\n      // Calcular el nuevo número total de páginas\r\n      const newTotalPages = Math.ceil((filteredPacientes.length - 1) / itemsPerPage);\r\n      setTotalPages(newTotalPages);\r\n      \r\n      // Si la página actual es mayor que el nuevo total de páginas, ajustar a la última página\r\n      if (currentPage > newTotalPages) {\r\n        setCurrentPage(newTotalPages || 1);\r\n      }\r\n      \r\n      setShowConfirmModal(false);\r\n      setSuccessMessage('Paciente eliminado exitosamente');\r\n      setShowSuccessMessage(true);\r\n      setTimeout(() => setShowSuccessMessage(false), 3000);\r\n    } catch (error) {\r\n      console.error('Error al eliminar paciente:', error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleConfirmDeleteCita = (citaId) => {\r\n    setConfirmAction({ type: 'deleteCita', id: citaId });\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleDeleteCita = async (citaId) => {\r\n    try {\r\n      const response = await fetch(`/api/citas?citaId=${citaId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al eliminar la cita');\r\n      }\r\n\r\n      // Actualizar el estado local eliminando la cita\r\n      setCitas(prev => prev.filter(c => c.cita_id !== citaId));\r\n      setFilteredCitas(prev => prev.filter(c => c.cita_id !== citaId));\r\n      \r\n      // Recalcular el número total de páginas\r\n      const newTotalPages = Math.ceil((filteredCitas.length - 1) / itemsPerPage);\r\n      setCitaTotalPages(newTotalPages);\r\n      \r\n      // Ajustar la página actual si es necesario\r\n      if (citaCurrentPage > newTotalPages) {\r\n        setCitaCurrentPage(newTotalPages || 1);\r\n      }\r\n      \r\n      setShowConfirmModal(false);\r\n      setSuccessMessage('Cita eliminada exitosamente');\r\n      setShowSuccessMessage(true);\r\n      setTimeout(() => setShowSuccessMessage(false), 3000);\r\n\r\n      // Actualizar las estadísticas\r\n      setStats(prev => ({\r\n        ...prev,\r\n        citasProgramadas: prev.citasProgramadas - 1\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error al eliminar cita:', error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleAddDoctor = async (doctorData) => {\r\n    try {\r\n      const response = await fetch('/api/doctores', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(doctorData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al crear el doctor')\r\n      }\r\n\r\n      const newDoctor = await response.json()\r\n      setDoctores(prev => [...prev, newDoctor])\r\n      setFilteredDoctores(prev => [...prev, newDoctor])\r\n      setDoctorTotalPages(prev => Math.ceil((prev * itemsPerPage + 1) / itemsPerPage))\r\n      setIsDoctorModalOpen(false)\r\n      setSuccessMessage('Doctor creado exitosamente')\r\n      setShowSuccessMessage(true)\r\n      setTimeout(() => setShowSuccessMessage(false), 3000)\r\n    } catch (error) {\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const handleEditDoctor = async (doctorData) => {\r\n    try {\r\n      const response = await fetch(`/api/doctores/${doctorData.doctor_id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          primer_nombre: doctorData.primer_nombre,\r\n          segundo_nombre: doctorData.segundo_nombre,\r\n          apellido_paterno: doctorData.apellido_paterno,\r\n          apellido_materno: doctorData.apellido_materno,\r\n          password: doctorData.password,\r\n          especialidad: doctorData.especialidad,\r\n          consultorio_id: doctorData.consultorio_id || null\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al actualizar el doctor')\r\n      }\r\n\r\n      // Obtener los datos actualizados del doctor\r\n      const getResponse = await fetch(`/api/doctores/${doctorData.doctor_id}`)\r\n      if (!getResponse.ok) {\r\n        throw new Error('Error al obtener los datos actualizados del doctor')\r\n      }\r\n\r\n      const updatedDoctor = await getResponse.json()\r\n      setDoctores(prev => prev.map(d => d.doctor_id === updatedDoctor.doctor_id ? updatedDoctor : d))\r\n      setFilteredDoctores(prev => prev.map(d => d.doctor_id === updatedDoctor.doctor_id ? updatedDoctor : d))\r\n      setIsDoctorModalOpen(false)\r\n      setSelectedDoctor(null)\r\n      setSuccessMessage('Doctor actualizado exitosamente')\r\n      setShowSuccessMessage(true)\r\n      setTimeout(() => setShowSuccessMessage(false), 3000)\r\n    } catch (error) {\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const handleAddPatient = async (newPatient) => {\r\n    try {\r\n      const response = await fetch('/api/pacientes', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(newPatient),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        const updatedPacientes = [...pacientes, {\r\n          ...data,\r\n          doctor: doctores.find(d => d.doctor_id === data.doctor_id) || null\r\n        }]\r\n        setPacientes(updatedPacientes)\r\n        setFilteredPacientes(updatedPacientes)\r\n        setTotalPages(Math.ceil(updatedPacientes.length / itemsPerPage))\r\n        setIsPatientModalOpen(false)\r\n        setSuccessMessage('Paciente creado exitosamente')\r\n        setShowSuccessMessage(true)\r\n        setTimeout(() => setShowSuccessMessage(false), 3000)\r\n      } else {\r\n        const error = await response.json()\r\n        alert(error.message || 'Error al crear el paciente')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al crear paciente:', error)\r\n      alert('Error al crear el paciente')\r\n    }\r\n  }\r\n\r\n  const handleEditPatient = (paciente) => {\r\n    setEditingPatient(paciente);\r\n    setIsPatientModalOpen(true);\r\n  };\r\n\r\n  const handleUpdatePatient = async (updatedPatient) => {\r\n    try {\r\n      const response = await fetch('/api/pacientes', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(updatedPatient),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const updatedPacientes = pacientes.map(p => \r\n          p.paciente_id === data.paciente_id ? {\r\n            ...data,\r\n            doctor: doctores.find(d => d.doctor_id === data.doctor_id) || null\r\n          } : p\r\n        );\r\n        setPacientes(updatedPacientes);\r\n        setFilteredPacientes(updatedPacientes);\r\n        setIsPatientModalOpen(false);\r\n        setEditingPatient(null);\r\n        setSuccessMessage('Paciente actualizado exitosamente');\r\n        setShowSuccessMessage(true);\r\n        setTimeout(() => setShowSuccessMessage(false), 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        throw new Error(error.message || 'Error al actualizar el paciente');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al actualizar paciente:', error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handlePatientSubmit = (patientData) => {\r\n    if (editingPatient) {\r\n      handleUpdatePatient({ ...editingPatient, ...patientData });\r\n    } else {\r\n      handleAddPatient(patientData);\r\n    }\r\n  };\r\n\r\n  const handleClosePatientModal = () => {\r\n    setIsPatientModalOpen(false);\r\n    setEditingPatient(null);\r\n  };\r\n\r\n  const openDoctorModal = async (doctor = null) => {\r\n    if (doctor) {\r\n      try {\r\n        // Obtener los datos completos del doctor\r\n        const response = await fetch(`/api/doctores/${doctor.doctor_id}`)\r\n        if (!response.ok) {\r\n          throw new Error('Error al obtener los datos del doctor')\r\n        }\r\n        const doctorData = await response.json()\r\n        \r\n        // Asegurarse de que todos los campos necesarios estén presentes\r\n        const formattedDoctorData = {\r\n          doctor_id: doctorData.doctor_id,\r\n          primer_nombre: doctorData.primer_nombre || '',\r\n          segundo_nombre: doctorData.segundo_nombre || '',\r\n          apellido_paterno: doctorData.apellido_paterno || '',\r\n          apellido_materno: doctorData.apellido_materno || '',\r\n          email: doctorData.email || '',\r\n          especialidad: doctorData.especialidad || '',\r\n          consultorio: doctorData.consultorio || '',\r\n          consultorio_id: doctorData.consultorio_id || null,\r\n          password: '' // No prellenamos la contraseña por seguridad\r\n        }\r\n        setSelectedDoctor(formattedDoctorData)\r\n      } catch (error) {\r\n        console.error('Error al cargar los datos del doctor:', error)\r\n        setError('Error al cargar los datos del doctor')\r\n        return\r\n      }\r\n    } else {\r\n      setSelectedDoctor(null)\r\n    }\r\n    setIsDoctorModalOpen(true)\r\n  }\r\n\r\n  const closeDoctorModal = () => {\r\n    setIsDoctorModalOpen(false)\r\n    setSelectedDoctor(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const filtered = citas.filter(cita => {\r\n      const pacienteNombre = `${cita.paciente?.primer_nombre || ''} ${cita.paciente?.apellido_paterno || ''}`.toLowerCase()\r\n      const doctorNombre = `${cita.doctor?.primer_nombre || ''} ${cita.doctor?.apellido_paterno || ''}`.toLowerCase()\r\n      const searchLower = citaSearchTerm.toLowerCase()\r\n      \r\n      return pacienteNombre.includes(searchLower) || \r\n             doctorNombre.includes(searchLower) ||\r\n             cita.notas?.toLowerCase().includes(searchLower)\r\n    })\r\n    \r\n    setFilteredCitas(filtered)\r\n    setCitaTotalPages(Math.ceil(filtered.length / itemsPerPage))\r\n    setCitaCurrentPage(1)\r\n  }, [citaSearchTerm, citas])\r\n\r\n  const getCurrentPageCitas = () => {\r\n    const startIndex = (citaCurrentPage - 1) * itemsPerPage\r\n    const endIndex = startIndex + itemsPerPage\r\n    return filteredCitas.slice(startIndex, endIndex)\r\n  }\r\n\r\n  const handleAddCita = async (citaData) => {\r\n    try {\r\n      const response = await fetch('/api/citas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(citaData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al crear la cita');\r\n      }\r\n\r\n      const newCita = await response.json();\r\n      \r\n      // Encontrar el doctor y paciente correspondientes\r\n      const doctor = doctores.find(d => d.doctor_id === newCita.doctor_id);\r\n      const paciente = pacientes.find(p => p.paciente_id === newCita.paciente_id);\r\n\r\n      // Crear la cita con toda la información necesaria\r\n      const citaCompleta = {\r\n        ...newCita,\r\n        doctor: doctor || null,\r\n        paciente: paciente || null\r\n      };\r\n\r\n      // Actualizar el estado\r\n      const updatedCitas = [...citas, citaCompleta];\r\n      setCitas(updatedCitas);\r\n      setFilteredCitas(updatedCitas);\r\n      \r\n      // Calcular el nuevo número total de páginas\r\n      const newTotalPages = Math.ceil(updatedCitas.length / itemsPerPage);\r\n      setCitaTotalPages(newTotalPages);\r\n      \r\n      // Ir a la última página donde aparecerá la nueva cita\r\n      setCitaCurrentPage(newTotalPages);\r\n      \r\n      setIsCitaModalOpen(false);\r\n      setSuccessMessage('Cita creada exitosamente');\r\n      setShowSuccessMessage(true);\r\n      setTimeout(() => setShowSuccessMessage(false), 3000);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleEditCita = async (citaData) => {\r\n    try {\r\n      const response = await fetch('/api/citas', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(citaData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al actualizar la cita')\r\n      }\r\n\r\n      setCitas(citas.map(c => c.cita_id === citaData.cita_id ? citaData : c))\r\n      setIsCitaModalOpen(false)\r\n      setSelectedCita(null)\r\n      setSuccessMessage('Cita actualizada exitosamente')\r\n      setShowSuccessMessage(true)\r\n      setTimeout(() => setShowSuccessMessage(false), 3000)\r\n    } catch (error) {\r\n      setError(error.message)\r\n    }\r\n  }\r\n\r\n  const openCitaModal = (cita = null) => {\r\n    setSelectedCita(cita)\r\n    setIsCitaModalOpen(true)\r\n  }\r\n\r\n  const closeCitaModal = () => {\r\n    setIsCitaModalOpen(false)\r\n    setSelectedCita(null)\r\n  }\r\n\r\n  const handleConfirmAction = async () => {\r\n    try {\r\n      switch (confirmAction.type) {\r\n        case 'deleteDoctor':\r\n          await handleDeleteDoctor(confirmAction.id);\r\n          break;\r\n        case 'deletePatient':\r\n          await handleDeletePatient(confirmAction.id);\r\n          break;\r\n        case 'deleteCita':\r\n          await handleDeleteCita(confirmAction.id);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      setShowConfirmModal(false);\r\n    } catch (error) {\r\n      console.error('Error al ejecutar acción:', error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case \"doctors\":\r\n        return (\r\n          <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-bold text-slate-800\">Gestión de Doctores</h2>\r\n                <motion.button\r\n                  whileHover={{ scale: 1.05 }}\r\n                  className=\"flex items-center px-4 py-2 bg-sky-500 text-white rounded-lg\"\r\n                  onClick={() => openDoctorModal()}\r\n                >\r\n                  <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                  Agregar Doctor\r\n                </motion.button>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-4 mb-6\">\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Buscar doctores...\"\r\n                    value={doctorSearchTerm}\r\n                    onChange={(e) => setDoctorSearchTerm(e.target.value)}\r\n                    className=\"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Nombre\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Especialidad\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Consultorio\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Acciones\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                          Cargando doctores...\r\n                        </td>\r\n                      </tr>\r\n                    ) : error ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"px-6 py-4 text-center text-sm text-red-500\">\r\n                          {error}\r\n                        </td>\r\n                      </tr>\r\n                    ) : filteredDoctores.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                          No hay doctores registrados\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      getCurrentPageDoctors().map((doctor) => (\r\n                        <tr key={doctor.doctor_id}>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center\">\r\n                                <Stethoscope className=\"h-5 w-5 text-sky-500\" />\r\n                              </div>\r\n                              <div className=\"ml-4\">\r\n                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                  {`${doctor.primer_nombre} ${doctor.segundo_nombre || ''} ${doctor.apellido_paterno} ${doctor.apellido_materno || ''}`}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            {doctor.especialidad}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            {console.log('Doctor data:', doctor)}\r\n                            {doctor.consultorio || 'No asignado'}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            <div className=\"flex space-x-3\">\r\n                              <motion.button\r\n                                whileHover={{ scale: 1.1 }}\r\n                                className=\"text-sky-600 hover:text-sky-900\"\r\n                                onClick={() => openDoctorModal(doctor)}\r\n                              >\r\n                                <Edit className=\"h-4 w-4\" />\r\n                              </motion.button>\r\n                              <motion.button\r\n                                whileHover={{ scale: 1.1 }}\r\n                                className=\"text-red-600 hover:text-red-900\"\r\n                                onClick={() => handleConfirmDeleteDoctor(doctor.doctor_id)}\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </motion.button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination Controls for Doctors */}\r\n              <div className=\"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6\">\r\n                <div className=\"flex justify-between flex-1 sm:hidden\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setDoctorCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={doctorCurrentPage === 1}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      doctorCurrentPage === 1\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Anterior\r\n                  </motion.button>\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setDoctorCurrentPage(prev => Math.min(prev + 1, doctorTotalPages))}\r\n                    disabled={doctorCurrentPage === doctorTotalPages}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      doctorCurrentPage === doctorTotalPages\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Siguiente\r\n                  </motion.button>\r\n                </div>\r\n                <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-700\">\r\n                      Mostrando{' '}\r\n                      <span className=\"font-medium\">\r\n                        {filteredDoctores.length === 0 ? 0 : (doctorCurrentPage - 1) * itemsPerPage + 1}\r\n                      </span>{' '}\r\n                      a{' '}\r\n                      <span className=\"font-medium\">\r\n                        {Math.min(doctorCurrentPage * itemsPerPage, filteredDoctores.length)}\r\n                      </span>{' '}\r\n                      de{' '}\r\n                      <span className=\"font-medium\">{filteredDoctores.length}</span>{' '}\r\n                      resultados\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setDoctorCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                        disabled={doctorCurrentPage === 1}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          doctorCurrentPage === 1\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Anterior\r\n                      </motion.button>\r\n                      {[...Array(doctorTotalPages)].map((_, index) => (\r\n                        <motion.button\r\n                          key={index + 1}\r\n                          whileHover={{ scale: 1.05 }}\r\n                          onClick={() => setDoctorCurrentPage(index + 1)}\r\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\r\n                            doctorCurrentPage === index + 1\r\n                              ? 'z-10 bg-sky-50 border-sky-500 text-sky-600'\r\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          {index + 1}\r\n                        </motion.button>\r\n                      ))}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setDoctorCurrentPage(prev => Math.min(prev + 1, doctorTotalPages))}\r\n                        disabled={doctorCurrentPage === doctorTotalPages}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          doctorCurrentPage === doctorTotalPages\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Siguiente\r\n                      </motion.button>\r\n                    </nav>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n\r\n      case \"patients\":\r\n        return (\r\n          <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-bold text-slate-800\">Gestión de Pacientes</h2>\r\n                <motion.button\r\n                  whileHover={{ scale: 1.05 }}\r\n                  className=\"flex items-center px-4 py-2 bg-sky-500 text-white rounded-lg\"\r\n                  onClick={() => setIsPatientModalOpen(true)}\r\n                >\r\n                  <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                  Agregar Paciente\r\n                </motion.button>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-4 mb-6\">\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Buscar pacientes...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Nombre Completo\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Email\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Fecha de Nacimiento\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Sexo\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Doctor Asignado\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Acciones\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {getCurrentPageData().map((paciente) => (\r\n                      <tr key={paciente.paciente_id}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className=\"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center\">\r\n                              <Users className=\"h-5 w-5 text-sky-500\" />\r\n                            </div>\r\n                            <div className=\"ml-4\">\r\n                              <div className=\"text-sm font-medium text-gray-900\">\r\n                                {`${paciente.primer_nombre} ${paciente.segundo_nombre || ''} ${paciente.apellido_paterno} ${paciente.apellido_materno || ''}`}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {paciente.email}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {new Date(paciente.fecha_nacimiento).toLocaleDateString()}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {paciente.sexo}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {paciente.doctor_id && paciente.doctor ? \r\n                            `Dr. ${paciente.doctor.primer_nombre} ${paciente.doctor.apellido_paterno}` : \r\n                            'No asignado'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                          <div className=\"flex space-x-2\">\r\n                            <motion.button\r\n                              whileHover={{ scale: 1.1 }}\r\n                              className=\"text-sky-600 hover:text-sky-900\"\r\n                              onClick={() => handleEditPatient(paciente)}\r\n                            >\r\n                              <Edit className=\"h-4 w-4\" />\r\n                            </motion.button>\r\n                            <motion.button\r\n                              whileHover={{ scale: 1.1 }}\r\n                              className=\"text-red-600 hover:text-red-900\"\r\n                              onClick={() => handleConfirmDeletePatient(paciente.paciente_id)}\r\n                            >\r\n                              <Trash2 className=\"h-4 w-4\" />\r\n                            </motion.button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination Controls */}\r\n              <div className=\"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6\">\r\n                <div className=\"flex justify-between flex-1 sm:hidden\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={currentPage === 1}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      currentPage === 1\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Anterior\r\n                  </motion.button>\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                    disabled={currentPage === totalPages}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      currentPage === totalPages\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Siguiente\r\n                  </motion.button>\r\n                </div>\r\n                <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-700\">\r\n                      Mostrando{' '}\r\n                      <span className=\"font-medium\">\r\n                        {filteredPacientes.length === 0 ? 0 : (currentPage - 1) * itemsPerPage + 1}\r\n                      </span>{' '}\r\n                      a{' '}\r\n                      <span className=\"font-medium\">\r\n                        {Math.min(currentPage * itemsPerPage, filteredPacientes.length)}\r\n                      </span>{' '}\r\n                      de{' '}\r\n                      <span className=\"font-medium\">{filteredPacientes.length}</span>{' '}\r\n                      resultados\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                        disabled={currentPage === 1}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          currentPage === 1\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Anterior\r\n                      </motion.button>\r\n                      {[...Array(totalPages)].map((_, index) => (\r\n                        <motion.button\r\n                          key={index + 1}\r\n                          whileHover={{ scale: 1.05 }}\r\n                          onClick={() => setCurrentPage(index + 1)}\r\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\r\n                            currentPage === index + 1\r\n                              ? 'z-10 bg-sky-50 border-sky-500 text-sky-600'\r\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          {index + 1}\r\n                        </motion.button>\r\n                      ))}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                        disabled={currentPage === totalPages}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          currentPage === totalPages\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Siguiente\r\n                      </motion.button>\r\n                    </nav>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n\r\n      case \"appointments\":\r\n        return (\r\n          <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-bold text-slate-800\">Gestión de Citas</h2>\r\n                <motion.button\r\n                  whileHover={{ scale: 1.05 }}\r\n                  className=\"flex items-center px-4 py-2 bg-sky-500 text-white rounded-lg\"\r\n                  onClick={() => openCitaModal()}\r\n                >\r\n                  <Calendar className=\"h-4 w-4 mr-2\" />\r\n                  Agregar Cita\r\n                </motion.button>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-4 mb-6\">\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Buscar citas...\"\r\n                    value={citaSearchTerm}\r\n                    onChange={(e) => setCitaSearchTerm(e.target.value)}\r\n                    className=\"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n                  />\r\n                </div>\r\n                <div className=\"w-48\">\r\n                  <input\r\n                    type=\"date\"\r\n                    value={selectedDate}\r\n                    onChange={(e) => setSelectedDate(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-400 text-slate-800\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Paciente\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Doctor\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Fecha y Hora\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Estado\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Notas\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Acciones\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {isLoading ? (\r\n                      <tr>\r\n                        <td colSpan=\"6\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                          Cargando citas...\r\n                        </td>\r\n                      </tr>\r\n                    ) : error ? (\r\n                      <tr>\r\n                        <td colSpan=\"6\" className=\"px-6 py-4 text-center text-sm text-red-500\">\r\n                          {error}\r\n                        </td>\r\n                      </tr>\r\n                    ) : filteredCitas.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"6\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                          No hay citas registradas\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      getCurrentPageCitas().map((cita) => (\r\n                        <tr key={cita.cita_id}>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center\">\r\n                                <Users className=\"h-5 w-5 text-sky-500\" />\r\n                              </div>\r\n                              <div className=\"ml-4\">\r\n                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                  {cita.paciente ? `${cita.paciente.primer_nombre} ${cita.paciente.apellido_paterno}` : 'Paciente no encontrado'}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center\">\r\n                                <Stethoscope className=\"h-5 w-5 text-sky-500\" />\r\n                              </div>\r\n                              <div className=\"ml-4\">\r\n                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                  {cita.doctor ? `Dr. ${cita.doctor.primer_nombre} ${cita.doctor.apellido_paterno}` : 'Doctor no encontrado'}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            {new Date(cita.fecha_hora).toLocaleString()}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                              cita.estado_id === 1 ? 'bg-yellow-100 text-yellow-800' :\r\n                              cita.estado_id === 2 ? 'bg-green-100 text-green-800' :\r\n                              cita.estado_id === 3 ? 'bg-red-100 text-red-800' :\r\n                              cita.estado_id === 4 ? 'bg-blue-100 text-blue-800' :\r\n                              'bg-gray-100 text-gray-800'\r\n                            }`}>\r\n                              {cita.estado_id === 1 ? 'Programada' :\r\n                               cita.estado_id === 2 ? 'Confirmada' :\r\n                               cita.estado_id === 3 ? 'Cancelada' :\r\n                               cita.estado_id === 4 ? 'Completada' :\r\n                               'No asistió'}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                            {cita.notas || 'Sin notas'}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                            <div className=\"flex space-x-2\">\r\n                              <motion.button\r\n                                whileHover={{ scale: 1.1 }}\r\n                                className=\"text-sky-600 hover:text-sky-900\"\r\n                                onClick={() => openCitaModal(cita)}\r\n                              >\r\n                                <Edit className=\"h-4 w-4\" />\r\n                              </motion.button>\r\n                              <motion.button\r\n                                whileHover={{ scale: 1.1 }}\r\n                                className=\"text-red-600 hover:text-red-900\"\r\n                                onClick={() => handleConfirmDeleteCita(cita.cita_id)}\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </motion.button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination Controls for Citas */}\r\n              <div className=\"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6\">\r\n                <div className=\"flex justify-between flex-1 sm:hidden\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setCitaCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={citaCurrentPage === 1}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      citaCurrentPage === 1\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Anterior\r\n                  </motion.button>\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    onClick={() => setCitaCurrentPage(prev => Math.min(prev + 1, citaTotalPages))}\r\n                    disabled={citaCurrentPage === citaTotalPages}\r\n                    className={`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${\r\n                      citaCurrentPage === citaTotalPages\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    Siguiente\r\n                  </motion.button>\r\n                </div>\r\n                <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-700\">\r\n                      Mostrando{' '}\r\n                      <span className=\"font-medium\">\r\n                        {filteredCitas.length === 0 ? 0 : (citaCurrentPage - 1) * itemsPerPage + 1}\r\n                      </span>{' '}\r\n                      a{' '}\r\n                      <span className=\"font-medium\">\r\n                        {Math.min(citaCurrentPage * itemsPerPage, filteredCitas.length)}\r\n                      </span>{' '}\r\n                      de{' '}\r\n                      <span className=\"font-medium\">{filteredCitas.length}</span>{' '}\r\n                      resultados\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setCitaCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                        disabled={citaCurrentPage === 1}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          citaCurrentPage === 1\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Anterior\r\n                      </motion.button>\r\n                      {[...Array(citaTotalPages)].map((_, index) => (\r\n                        <motion.button\r\n                          key={index + 1}\r\n                          whileHover={{ scale: 1.05 }}\r\n                          onClick={() => setCitaCurrentPage(index + 1)}\r\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\r\n                            citaCurrentPage === index + 1\r\n                              ? 'z-10 bg-sky-50 border-sky-500 text-sky-600'\r\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          {index + 1}\r\n                        </motion.button>\r\n                      ))}\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.05 }}\r\n                        onClick={() => setCitaCurrentPage(prev => Math.min(prev + 1, citaTotalPages))}\r\n                        disabled={citaCurrentPage === citaTotalPages}\r\n                        className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\r\n                          citaCurrentPage === citaTotalPages\r\n                            ? 'text-gray-300 cursor-not-allowed'\r\n                            : 'text-gray-500 hover:bg-gray-50'\r\n                        }`}\r\n                      >\r\n                        Siguiente\r\n                      </motion.button>\r\n                    </nav>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-50 via-blue-50 to-indigo-100\">\r\n      {/* Navbar */}\r\n      <nav className=\"bg-white shadow-md fixed top-0 left-0 right-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <motion.div\r\n                whileHover={{ scale: 1.05 }}\r\n                className=\"flex items-center space-x-2\"\r\n              >\r\n                <Stethoscope className=\"h-8 w-8 text-sky-500\" />\r\n                <span className=\"text-xl font-bold text-slate-800\">\r\n                  MediCare Pro\r\n                </span>\r\n              </motion.div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-4\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                onClick={() => setIsBitacoraModalOpen(true)}\r\n                className=\"p-2 text-slate-600 hover:text-sky-600 transition-colors\"\r\n              >\r\n                <History size={20} />\r\n              </motion.button>\r\n              <motion.div\r\n                whileHover={{ scale: 1.05 }}\r\n                className=\"relative\"\r\n              >\r\n                <button\r\n                  onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                  className=\"flex items-center space-x-2 text-slate-600\"\r\n                >\r\n                  <div className=\"h-8 w-8 rounded-full bg-sky-500 flex items-center justify-center text-white\">\r\n                    A\r\n                  </div>\r\n                  <span>Admin</span>\r\n                  <ChevronDown className=\"h-4 w-4\" />\r\n                </button>\r\n\r\n                {isDropdownOpen && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: -10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1\"\r\n                  >\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full\"\r\n                    >\r\n                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n                      Cerrar Sesión\r\n                    </button>\r\n                  </motion.div>\r\n                )}\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-16\">\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <motion.div\r\n            whileHover={{ scale: 1.02 }}\r\n            className=\"bg-white rounded-xl shadow-md p-6\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600\">Total Doctores</p>\r\n                <h3 className=\"text-2xl font-bold text-slate-800\">{stats.totalDoctores}</h3>\r\n              </div>\r\n              <div className=\"h-12 w-12 bg-sky-100 rounded-lg flex items-center justify-center\">\r\n                <Stethoscope className=\"h-6 w-6 text-sky-500\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            whileHover={{ scale: 1.02 }}\r\n            className=\"bg-white rounded-xl shadow-md p-6\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600\">Total Pacientes</p>\r\n                <h3 className=\"text-2xl font-bold text-slate-800\">{stats.totalPacientes}</h3>\r\n              </div>\r\n              <div className=\"h-12 w-12 bg-indigo-100 rounded-lg flex items-center justify-center\">\r\n                <Users className=\"h-6 w-6 text-indigo-500\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            whileHover={{ scale: 1.02 }}\r\n            className=\"bg-white rounded-xl shadow-md p-6\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600\">Citas Hoy</p>\r\n                <h3 className=\"text-2xl font-bold text-slate-800\">{stats.citasHoy}</h3>\r\n              </div>\r\n              <div className=\"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                <Calendar className=\"h-6 w-6 text-green-500\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            whileHover={{ scale: 1.02 }}\r\n            className=\"bg-white rounded-xl shadow-md p-6\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600\">Citas Programadas</p>\r\n                <h3 className=\"text-2xl font-bold text-slate-800\">{stats.citasProgramadas}</h3>\r\n              </div>\r\n              <div className=\"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center\">\r\n                <Clock className=\"h-6 w-6 text-yellow-500\" />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"bg-white rounded-xl shadow-md mb-8\">\r\n          <div className=\"flex space-x-1 p-1\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              onClick={() => setActiveTab(\"doctors\")}\r\n              className={`flex-1 px-4 py-2 text-sm font-medium rounded-lg ${\r\n                activeTab === \"doctors\"\r\n                  ? \"bg-sky-500 text-white\"\r\n                  : \"text-slate-600 hover:bg-sky-50\"\r\n              }`}\r\n            >\r\n              Doctores\r\n            </motion.button>\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              onClick={() => setActiveTab(\"patients\")}\r\n              className={`flex-1 px-4 py-2 text-sm font-medium rounded-lg ${\r\n                activeTab === \"patients\"\r\n                  ? \"bg-sky-500 text-white\"\r\n                  : \"text-slate-600 hover:bg-sky-50\"\r\n              }`}\r\n            >\r\n              Pacientes\r\n            </motion.button>\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              onClick={() => setActiveTab(\"appointments\")}\r\n              className={`flex-1 px-4 py-2 text-sm font-medium rounded-lg ${\r\n                activeTab === \"appointments\"\r\n                  ? \"bg-sky-500 text-white\"\r\n                  : \"text-slate-600 hover:bg-sky-50\"\r\n              }`}\r\n            >\r\n              Citas\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"min-h-[600px]\"> {/* Altura mínima para evitar saltos */}\r\n        {renderTabContent()}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modales */}\r\n      <Modal \r\n        isOpen={isDoctorModalOpen} \r\n        onClose={closeDoctorModal}\r\n        title={selectedDoctor ? \"Editar Doctor\" : \"Agregar Nuevo Doctor\"}\r\n      >\r\n        <DoctorForm \r\n          onClose={closeDoctorModal} \r\n          onSubmit={selectedDoctor ? handleEditDoctor : handleAddDoctor}\r\n          initialData={selectedDoctor}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal \r\n        isOpen={isPatientModalOpen} \r\n        onClose={handleClosePatientModal}\r\n        title={editingPatient ? \"Editar Paciente\" : \"Agregar Nuevo Paciente\"}\r\n      >\r\n        <PatientForm \r\n          onClose={handleClosePatientModal} \r\n          onSubmit={handlePatientSubmit}\r\n          initialData={editingPatient}\r\n          doctores={doctores}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal \r\n        isOpen={isCitaModalOpen} \r\n        onClose={closeCitaModal}\r\n        title={selectedCita ? \"Editar Cita\" : \"Agregar Nueva Cita\"}\r\n      >\r\n        <CitaForm \r\n          onClose={closeCitaModal} \r\n          onSubmit={selectedCita ? handleEditCita : handleAddCita}\r\n          initialData={selectedCita}\r\n          doctores={doctores}\r\n          pacientes={pacientes}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal \r\n        isOpen={isBitacoraModalOpen} \r\n        onClose={() => setIsBitacoraModalOpen(false)}\r\n        title=\"Bitácora del Sistema\"\r\n      >\r\n        <BitacoraForm \r\n          onClose={() => setIsBitacoraModalOpen(false)}\r\n        />\r\n      </Modal>\r\n\r\n      {/* Modal de Confirmación */}\r\n      <AnimatePresence>\r\n        {showConfirmModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\"\r\n            onClick={() => setShowConfirmModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              className=\"bg-white rounded-2xl p-6 w-full max-w-md\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Confirmar Acción</h2>\r\n              <p className=\"text-slate-600 mb-6\">\r\n                {confirmAction?.type === 'deleteDoctor' && '¿Estás seguro de que deseas eliminar este doctor?'}\r\n                {confirmAction?.type === 'deletePatient' && '¿Estás seguro de que deseas eliminar este paciente?'}\r\n                {confirmAction?.type === 'deleteCita' && '¿Estás seguro de que deseas eliminar esta cita?'}\r\n              </p>\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => setShowConfirmModal(false)}\r\n                  className=\"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  onClick={handleConfirmAction}\r\n                  className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\r\n                >\r\n                  Confirmar\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Mensaje de Éxito */}\r\n      <AnimatePresence>\r\n        {showSuccessMessage && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 50 }}\r\n            className=\"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50\"\r\n          >\r\n            {successMessage}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4919, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}