{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/senorbuen0/ISC/sem6/bd/proyecto/citasmedicas_db/app/dashboard/patient/page.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { motion } from \"framer-motion\"\nimport {\n  Calendar,\n  FileText,\n  Bell,\n  Search,\n  Clock,\n  User,\n  LogOut,\n  X,\n  Check,\n  AlertCircle,\n} from \"lucide-react\"\nimport Link from \"next/link\"\n\nexport default function PatientDashboardOverview() {\n  const [patient, setPatient] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    const fetchPatientData = async () => {\n      try {\n        setLoading(true)\n        \n        // Obtener ID del paciente desde sessionStorage\n        const patientId = sessionStorage.getItem('user_id')\n        \n        if (!patientId) {\n          throw new Error('No se encontró información de sesión. Por favor, inicia sesión nuevamente.')\n        }\n        \n        console.log('Fetching patient data for ID:', patientId)\n        const response = await fetch(`/api/pacientes?pacienteId=${patientId}`)\n        console.log('Response status:', response.status)\n        console.log('Response ok:', response.ok)\n        \n        if (!response.ok) {\n          const errorData = await response.json()\n          console.error('API Error Response:', errorData)\n          throw new Error(errorData.error || 'Error al cargar datos del paciente')\n        }\n        const data = await response.json()\n        console.log('Patient data received:', data)\n        if (!data) {\n          throw new Error('No se encontraron datos del paciente')\n        }\n        setPatient(data)\n      } catch (err) {\n        console.error('Error al cargar datos del paciente:', err)\n        setError(err.message)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchPatientData()\n  }, [])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-blue-50 to-indigo-100\">\n        <div className=\"text-slate-600\">Cargando datos del paciente...</div>\n      </div>\n    )\n  }\n\n  if (error) {\n    const patientId = sessionStorage.getItem('user_id') || 'No disponible'\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-blue-50 to-indigo-100\">\n        <div className=\"bg-white/80 backdrop-blur-lg rounded-2xl p-8 border border-red-200 shadow-lg max-w-md\">\n          <div className=\"text-red-600 flex items-center gap-2 mb-4\">\n            <AlertCircle size={24} />\n            <span className=\"text-lg font-semibold\">Error al cargar datos</span>\n          </div>\n          <p className=\"text-slate-700 mb-4\">{error}</p>\n          <div className=\"bg-red-50 rounded-lg p-4\">\n            <p className=\"text-sm text-red-700\">\n              <strong>ID del paciente:</strong> {patientId}\n            </p>\n            <p className=\"text-sm text-red-700 mt-2\">\n              Verifica la consola del navegador para más detalles del error.\n            </p>\n          </div>\n          <button \n            onClick={() => window.location.reload()}\n            className=\"mt-4 w-full bg-sky-500 text-white py-2 px-4 rounded-lg hover:bg-sky-600 transition-colors\"\n          >\n            Reintentar\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-sky-50 via-blue-50 to-indigo-100\">\n      {/* Header */}\n      <motion.header\n        initial={{ y: -50, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        className=\"bg-white/80 backdrop-blur-lg border-b border-sky-200 px-6 py-4\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-500 rounded-xl flex items-center justify-center\">\n              <User className=\"text-white\" size={20} />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-slate-800\">MediCare Pro</h1>\n              <p className=\"text-sm text-slate-600\">Paciente</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              className=\"p-2 text-slate-600 hover:text-sky-600 transition-colors\"\n            >\n              <Bell size={20} />\n            </motion.button>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              className=\"p-2 text-slate-600 hover:text-red-600 transition-colors\"\n            >\n              <LogOut size={20} />\n            </motion.button>\n          </div>\n        </div>\n      </motion.header>\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        <motion.aside\n          initial={{ x: -100, opacity: 0 }}\n          animate={{ x: 0, opacity: 1 }}\n          className=\"w-64 bg-white/60 backdrop-blur-lg border-r border-sky-200 min-h-screen p-6\"\n        >\n          <nav className=\"space-y-4\">\n            <motion.a\n              href=\"/dashboard/patient\"\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              className=\"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:bg-sky-50 transition-all duration-300\"\n            >\n              <User size={20} />\n              <span className=\"font-medium\">Dashboard</span>\n            </motion.a>\n\n            <motion.a\n              href=\"/dashboard/patient/calendar\"\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              className=\"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:bg-sky-50 transition-all duration-300\"\n            >\n              <Calendar size={20} />\n              <span className=\"font-medium\">Calendario</span>\n            </motion.a>\n\n            <motion.a\n              href=\"/dashboard/patient/records\"\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              className=\"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:bg-sky-50 transition-all duration-300\"\n            >\n              <FileText size={20} />\n              <span className=\"font-medium\">Expediente</span>\n            </motion.a>\n          </nav>\n        </motion.aside>\n\n        {/* Main Content */}\n        <main className=\"flex-1 p-6\">\n          <div className=\"space-y-6\">\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-white/80 backdrop-blur-lg rounded-2xl p-6 border border-sky-100 shadow-lg\"\n            >\n              <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">\n                Bienvenido, {patient?.primer_nombre} {patient?.apellido_paterno}\n              </h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"bg-sky-50 rounded-xl p-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-3\">Información Personal</h3>\n                  <div className=\"space-y-2\">\n                    <p className=\"text-slate-600\">\n                      <span className=\"font-medium\">Nombre completo:</span>{' '}\n                      {`${patient?.primer_nombre || ''} ${patient?.segundo_nombre || ''} ${patient?.apellido_paterno || ''} ${patient?.apellido_materno || ''}`}\n                    </p>\n                    <p className=\"text-slate-600\">\n                      <span className=\"font-medium\">Email:</span> {patient?.email}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"bg-sky-50 rounded-xl p-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-3\">Información Médica</h3>\n                  <div className=\"space-y-2\">\n                    <p className=\"text-slate-600\">\n                      <span className=\"font-medium\">Doctor asignado:</span>{' '}\n                      Especialidad: {patient?.doctor_especialidad}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"text-slate-600\"\n            >\n              <p>Selecciona una opción del menú lateral para gestionar tus citas o ver tu expediente médico.</p>\n            </motion.div>\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}